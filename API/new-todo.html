<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand shadow-sm border">
      <div class="container">
        <div class="navbar-nav nav-underline">
          <a class="nav-link" href="index.html">Home</a>
          <a class="nav-link active" href="#">New Todo</a>
          <a class="nav-link" href="edit-todo.html">Edit Todo</a>
        </div>
      </div>
    </nav>
    <!-- End Navigation -->
    <!-- Todos -->
    <main>
      <form action="" class="container-fluid py-5">
        <div class="input-group shadow-sm rounded-2 w-75 mx-auto">
          <input
            class="form-control w-25"
            type="text"
            name=""
            placeholder="Title"
            id="title"
            required
          />
          <input
            class="form-control"
            type="text"
            name=""
            placeholder="User ID"
            id="userId"
            required
          />
          <input
            class="form-control"
            type="text"
            name=""
            placeholder="Status"
            id="status"
            required
          />
          <input
            class="btn btn-primary"
            type="submit"
            value="+"
            id="todoAddBtn"
          />

        </div>
      </form>
    </main>
    <script>
      const link = "https://jsonplaceholder.typicode.com/todos";
      const form = document.querySelector("form");
      const title = document.querySelector("#title");
      const userId = document.querySelector("#userId");
      const status = document.querySelector("#status");

      const newTodo = JSON.stringify({
        userId: userId.value,
        title: title.value,
        completed: status.value,
      });

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        fetch(link, {
          method: "POST",
          headers: {
            "Content-type": "application/json; charset=UTF-8",
          },
          body: newTodo,
        })
          .then((response) => response.json())
          .then((json) => console.log(json));
      });
    </script>
  </body>
</html>
